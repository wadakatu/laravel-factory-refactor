---
import Layout from '../layouts/Layout.astro';
import Hero from '../components/Hero.astro';
import Features from '../components/Features.astro';

// This will be replaced with actual data
const repoData = {{REPO_DATA}};
const { repo, prs, readme, issues } = repoData;

const stats = {
  stars: repo.stargazers_count || 0,
  forks: repo.forks_count || 0,
  issues: issues?.length || 0
};
---

<Layout title={`${repo.name} - Project Dashboard`} description={repo.description}>
  <Hero 
    title={repo.name}
    description={repo.description}
    stats={stats}
  />
  
  <Features prs={prs || []} />
  
  <section class="about">
    <div class="container">
      <h2>About This Project</h2>
      <div class="readme-content">
        <p>{readme ? readme.slice(0, 500) + '...' : 'No description available.'}</p>
      </div>
    </div>
  </section>
  
  <footer>
    <div class="container">
      <p>ðŸ¤– Generated with AI-powered GitLyte âœ¨</p>
    </div>
  </footer>
</Layout>

<style>
  .about {
    padding: 3rem 0;
    background: #f8fafc;
  }

  .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
  }

  h2 {
    font-size: 2rem;
    margin-bottom: 2rem;
    text-align: center;
    color: var(--text-primary);
  }

  .readme-content {
    background: white;
    padding: 2rem;
    border-radius: 12px;
    border-left: 4px solid var(--primary);
    max-width: 800px;
    margin: 0 auto;
    line-height: 1.7;
  }

  footer {
    background: var(--primary);
    color: white;
    text-align: center;
    padding: 2rem 0;
  }

  footer p {
    margin: 0;
    opacity: 0.9;
  }
</style>